<input
  [(ngModel)]="search"
  typeaheadOptionField="name"
  [typeahead]="dataSource$"
  [typeaheadAsync]="true"
  [typeaheadWaitMs]="400"
  [typeaheadItemTemplate]="itemTemplate"
  (typeaheadOnSelect)="onSelected($event)"
  (typeaheadLoading)="loading = $event"
  [disabled]="disabled"
  class="form-control"
  placeholder="Digite o nome da cidade"
/>

<div class="text-muted loading" *ngIf="loading">Carregando...</div>

<ng-template let-item="item" #itemTemplate>
  <span>{{ item.name }}, {{ item.country }}</span>
</ng-template>
